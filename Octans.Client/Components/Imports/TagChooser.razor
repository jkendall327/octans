@using Octans.Client.Components.Gallery
<article class="tag-chooser">
    <section class="paths">
        <MudDataGrid Items="@(Paths.Select((s, i) => new
                            {
                                Path = s,
                                Index = i
                            }))">
            <Columns>
                <PropertyColumn Property="@(x => x.Index)" Title="#"/>
                <PropertyColumn Property="@(x => x.Path)"/>
                <TemplateColumn Title="Metadata"/>
            </Columns>
        </MudDataGrid>
    </section>
    <section class="tag-selection">
        <div class="tag-inputs">
            <div class="tags-for-all">

            </div>
            <div class="tags-for-selected">

            </div>
        </div>
        <div class="misc">
            <h3>misc</h3>
            
        </div>
    </section>
</article>

@code {
    [Parameter, EditorRequired] public List<string> Paths { get; set; } = [];
    [Parameter, EditorRequired] public EventCallback<List<TagsForPath>> OnConfirm { get; set; }
    [Parameter, EditorRequired] public EventCallback<bool> OnCancel { get; set; }

    public sealed class TagsForPath
    {
        public required string Path { get; set; }
        public List<TagViewer.Tag> Tags { get; set; } = [];
    }

}

<style>
    article {
        display: flex;
        flex-direction: column;
    }
    
    .tag-selection {
        display: flex;
        flex-direction: row;
    }
    
    .tag-inputs {
        display: flex;
        flex-direction: row;
        flex: 1 1 0;
    }
    
    .misc {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        justify-items: flex-start;
        align-items: center;
    }
</style>